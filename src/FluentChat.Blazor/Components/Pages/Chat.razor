@page "/chat"
@using System.Collections.Generic
@using Microsoft.SemanticKernel
@using Microsoft.SemanticKernel.ChatCompletion
@inject Kernel Kernel

<RadzenStack Orientation="Orientation.Vertical" Gap="3rem" class="rz-p-12">
    <RadzenText TextStyle="TextStyle.Body1" TextAlign="TextAlign.Right">
        <RadzenGravatar Email="admin@fluentchat.ai" /><strong>TextAlign.Right</strong><br />  Radzen Blazor Components are open source and free for commercial use. You can install them from nuget or build your own copy from source.
        @((MarkupString)test)
    </RadzenText>
    <RadzenText TextStyle="TextStyle.Body1" TextAlign="TextAlign.Left">
        <RadzenGravatar Email="info@radzen.com" /><strong>TextAlign.Left</strong><br />  Radzen Blazor Components are open source and free for commercial use. You can install them from nuget or build your own copy from source.
    </RadzenText>

    <RadzenText TextStyle="TextStyle.Body1" TextAlign="TextAlign.End">
        <RadzenGravatar Email="admin@fluentchat.ai" /><strong>TextAlign.End</strong><br />  Radzen Blazor Components are open source and free for commercial use. You can install them from nuget or build your own copy from source.
    </RadzenText>
    <RadzenText TextStyle="TextStyle.Body1" TextAlign="TextAlign.Start">
        <RadzenGravatar Email="info@radzen.com" /><strong>TextAlign.Start</strong><br />  Radzen Blazor Components are open source and free for commercial use. You can install them from nuget or build your own copy from source.
    </RadzenText>
</RadzenStack>

<RadzenStack Orientation="Orientation.Vertical" Gap="3rem" class="rz-p-12">
    <RadzenRow>
        <RadzenColumn Size="10" >
            <RadzenTextBox Style="width:100%" Value="你是谁？用中文回答" />
        </RadzenColumn>
        <RadzenColumn Size="2">
            <RadzenButton Icon="send" />
        </RadzenColumn>
    </RadzenRow>
</RadzenStack>

@code {
    IChatCompletionService chatCompletionService = default!;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        chatCompletionService = Kernel.GetRequiredService<IChatCompletionService>("Ollama");
    }

    private string GetMessageStyle(bool isUser)
    {
        return isUser ? "background-color: #daf8e3; text-align: right;" : "background-color: #f1f1f1; text-align: left;";
    }

    private string test = @Markdig.Markdown.ToHtml("**ChatGPT Response**\n\nThis is a _sample_ markdown response with a list:\n\n- Item 1\n- Item 2");
}
